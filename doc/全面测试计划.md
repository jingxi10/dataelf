# 数流精灵 - 全面测试计划

**版本**: 1.0.0  
**测试日期**: 2024-12-20  
**测试负责人**: 测试团队

---

## 📋 测试概览

### 测试范围
- ✅ 8个高优先级功能
- ✅ 前端所有页面和组件
- ✅ 后端所有API接口
- ✅ 数据库操作
- ✅ 安全性测试
- ✅ 性能测试

### 测试类型
1. **功能测试**: 验证功能是否正常工作
2. **集成测试**: 验证模块间集成
3. **性能测试**: 验证系统性能
4. **安全测试**: 验证安全措施
5. **兼容性测试**: 验证浏览器兼容性
6. **用户体验测试**: 验证用户体验

---

## 🎯 功能测试

### 1. 系统配置和Logo上传

#### 测试用例 1.1: Logo上传
- **前置条件**: 管理员已登录
- **测试步骤**:
  1. 进入系统设置页面
  2. 点击"上传Logo"
  3. 选择图片文件（JPG, 200x60px, 500KB）
  4. 预览Logo
  5. 点击"保存"
- **预期结果**: 
  - ✅ 上传成功
  - ✅ 预览正确
  - ✅ 首页显示新Logo
- **测试状态**: ⏳ 待测试

#### 测试用例 1.2: Logo格式验证
- **测试步骤**:
  1. 尝试上传不支持的格式（如BMP）
  2. 尝试上传超大文件（>5MB）
- **预期结果**:
  - ✅ 提示格式不支持
  - ✅ 提示文件过大
- **测试状态**: ⏳ 待测试

#### 测试用例 1.3: 系统配置保存
- **测试步骤**:
  1. 修改网站名称
  2. 修改网站描述
  3. 点击"保存设置"
  4. 刷新页面
- **预期结果**:
  - ✅ 保存成功
  - ✅ 配置生效
  - ✅ 刷新后配置保持
- **测试状态**: ⏳ 待测试

### 2. robots.txt和SEO优化

#### 测试用例 2.1: robots.txt访问
- **测试步骤**:
  1. 访问 `/robots.txt`
  2. 检查内容
- **预期结果**:
  - ✅ 文件可访问
  - ✅ 包含正确的规则
  - ✅ AI路径允许访问
  - ✅ 用户路径禁止访问
- **测试状态**: ⏳ 待测试

#### 测试用例 2.2: AI专用API
- **测试步骤**:
  1. 访问 `/api/ai/data/{id}`
  2. 检查返回数据
- **预期结果**:
  - ✅ 返回JSON-LD格式
  - ✅ 无需认证
  - ✅ 数据结构正确
- **测试状态**: ⏳ 待测试

### 3. "我的内容"功能

#### 测试用例 3.1: 查看我的内容
- **前置条件**: 用户已登录
- **测试步骤**:
  1. 点击"我的内容"
  2. 查看内容列表
- **预期结果**:
  - ✅ 显示用户创建的所有内容
  - ✅ 分页正常
- **测试状态**: ⏳ 待测试

#### 测试用例 3.2: 状态筛选
- **测试步骤**:
  1. 点击"草稿"标签
  2. 点击"待审核"标签
  3. 点击"已发布"标签
- **预期结果**:
  - ✅ 只显示对应状态的内容
  - ✅ 切换流畅
- **测试状态**: ⏳ 待测试

#### 测试用例 3.3: 内容操作
- **测试步骤**:
  1. 编辑草稿
  2. 提交审核
  3. 删除草稿
- **预期结果**:
  - ✅ 编辑成功
  - ✅ 提交成功
  - ✅ 删除成功
- **测试状态**: ⏳ 待测试

### 4. 评论系统

#### 测试用例 4.1: 发表评论
- **前置条件**: 用户已登录
- **测试步骤**:
  1. 进入内容详情页
  2. 在评论框输入内容
  3. 点击"发表评论"
- **预期结果**:
  - ✅ 评论发表成功
  - ✅ 评论立即显示
  - ✅ 邮箱已脱敏
- **测试状态**: ⏳ 待测试

#### 测试用例 4.2: 评论分页
- **测试步骤**:
  1. 查看有大量评论的内容
  2. 点击"加载更多"
- **预期结果**:
  - ✅ 分页加载正常
  - ✅ 评论按时间倒序
- **测试状态**: ⏳ 待测试

#### 测试用例 4.3: 未登录评论
- **前置条件**: 用户未登录
- **测试步骤**:
  1. 尝试发表评论
- **预期结果**:
  - ✅ 提示需要登录
  - ✅ 跳转到登录页
- **测试状态**: ⏳ 待测试

### 5. 分享功能

#### 测试用例 5.1: 微信分享
- **测试步骤**:
  1. 点击"分享"按钮
  2. 选择"微信"
  3. 查看二维码
- **预期结果**:
  - ✅ 二维码正确生成
  - ✅ 扫码可访问内容
- **测试状态**: ⏳ 待测试

#### 测试用例 5.2: 复制链接
- **测试步骤**:
  1. 点击"复制链接"
  2. 粘贴到浏览器
- **预期结果**:
  - ✅ 链接复制成功
  - ✅ 链接可访问
- **测试状态**: ⏳ 待测试

#### 测试用例 5.3: 社交媒体分享
- **测试步骤**:
  1. 点击微博/QQ/Twitter等
  2. 检查跳转
- **预期结果**:
  - ✅ 正确跳转到分享页
  - ✅ 标题和链接正确
- **测试状态**: ⏳ 待测试

### 6. 多级分类系统

#### 测试用例 6.1: 创建根分类
- **前置条件**: 管理员已登录
- **测试步骤**:
  1. 进入分类管理
  2. 点击"创建根分类"
  3. 填写名称和描述
  4. 点击"创建"
- **预期结果**:
  - ✅ 创建成功
  - ✅ 分类树中显示
- **测试状态**: ⏳ 待测试

#### 测试用例 6.2: 创建子分类
- **测试步骤**:
  1. 悬停在根分类上
  2. 点击"+"按钮
  3. 填写子分类信息
  4. 点击"创建"
- **预期结果**:
  - ✅ 子分类创建成功
  - ✅ 显示在父分类下
- **测试状态**: ⏳ 待测试

#### 测试用例 6.3: 层级限制
- **测试步骤**:
  1. 创建3级分类
  2. 尝试在3级分类下创建子分类
- **预期结果**:
  - ✅ 3级分类不显示"+"按钮
  - ✅ 无法创建4级分类
- **测试状态**: ⏳ 待测试

#### 测试用例 6.4: 级联删除
- **测试步骤**:
  1. 删除有子分类的分类
  2. 确认删除
- **预期结果**:
  - ✅ 父分类和所有子分类被删除
  - ✅ 提示确认信息
- **测试状态**: ⏳ 待测试

### 7. 标签云管理

#### 测试用例 7.1: 创建标签
- **前置条件**: 管理员已登录
- **测试步骤**:
  1. 进入标签管理
  2. 点击"创建标签"
  3. 输入标签名称
  4. 点击"创建"
- **预期结果**:
  - ✅ 标签创建成功
  - ✅ 标签云中显示
- **测试状态**: ⏳ 待测试

#### 测试用例 7.2: 标签云展示
- **测试步骤**:
  1. 查看标签云
  2. 观察标签大小和颜色
- **预期结果**:
  - ✅ 使用量多的标签更大
  - ✅ 颜色根据使用量变化
- **测试状态**: ⏳ 待测试

#### 测试用例 7.3: 标签搜索
- **测试步骤**:
  1. 在搜索框输入关键词
  2. 查看搜索结果
- **预期结果**:
  - ✅ 实时显示匹配的标签
  - ✅ 清空搜索恢复全部
- **测试状态**: ⏳ 待测试

#### 测试用例 7.4: 删除标签
- **测试步骤**:
  1. 尝试删除使用中的标签
  2. 删除未使用的标签
- **预期结果**:
  - ✅ 使用中的标签无法删除
  - ✅ 未使用的标签可删除
- **测试状态**: ⏳ 待测试

### 8. 数据源管理

#### 测试用例 8.1: 添加数据源
- **前置条件**: 管理员已登录
- **测试步骤**:
  1. 进入数据源管理
  2. 点击"添加数据源"
  3. 填写基本信息
  4. 点击"创建"
- **预期结果**:
  - ✅ 数据源创建成功
  - ✅ 列表中显示
- **测试状态**: ⏳ 待测试

#### 测试用例 8.2: 手动抓取
- **测试步骤**:
  1. 选择一个数据源
  2. 点击"抓取"按钮
- **预期结果**:
  - ✅ 抓取任务触发
  - ✅ 抓取统计更新
- **测试状态**: ⏳ 待测试

#### 测试用例 8.3: 启用/禁用
- **测试步骤**:
  1. 禁用数据源
  2. 尝试抓取
  3. 启用数据源
- **预期结果**:
  - ✅ 禁用后无法抓取
  - ✅ 启用后可抓取
- **测试状态**: ⏳ 待测试

---

## 🔗 集成测试

### 测试用例 I.1: 用户注册到发布内容
- **测试步骤**:
  1. 注册新用户
  2. 等待审核通过
  3. 登录
  4. 创建内容
  5. 提交审核
  6. 管理员审核通过
  7. 查看已发布内容
- **预期结果**: 整个流程顺畅
- **测试状态**: ⏳ 待测试

### 测试用例 I.2: 分类和标签关联
- **测试步骤**:
  1. 创建分类
  2. 创建标签
  3. 创建内容并关联分类和标签
  4. 通过分类浏览内容
  5. 通过标签浏览内容
- **预期结果**: 关联正确，浏览正常
- **测试状态**: ⏳ 待测试

### 测试用例 I.3: 数据源到内容发布
- **测试步骤**:
  1. 配置数据源
  2. 触发抓取
  3. 查看抓取的数据
  4. 审核并发布
- **预期结果**: 数据流转正常
- **测试状态**: ⏳ 待测试

---

## ⚡ 性能测试

### 测试用例 P.1: 页面加载时间
- **测试指标**:
  - 首页加载: < 2s
  - 内容详情: < 1.5s
  - 管理后台: < 2s
- **测试工具**: Chrome DevTools
- **测试状态**: ⏳ 待测试

### 测试用例 P.2: API响应时间
- **测试指标**:
  - GET请求: < 200ms
  - POST请求: < 300ms
  - 复杂查询: < 500ms
- **测试工具**: Postman
- **测试状态**: ⏳ 待测试

### 测试用例 P.3: 并发测试
- **测试场景**:
  - 100个并发用户
  - 1000个并发请求
- **测试指标**:
  - 成功率: > 99%
  - 平均响应时间: < 500ms
- **测试工具**: JMeter
- **测试状态**: ⏳ 待测试

### 测试用例 P.4: 数据库性能
- **测试场景**:
  - 10000条内容
  - 1000个用户
  - 50000条评论
- **测试指标**:
  - 查询时间: < 100ms
  - 写入时间: < 50ms
- **测试状态**: ⏳ 待测试

---

## 🔒 安全测试

### 测试用例 S.1: 认证测试
- **测试步骤**:
  1. 未登录访问需要认证的页面
  2. 使用错误的Token访问API
  3. Token过期后访问
- **预期结果**:
  - ✅ 重定向到登录页
  - ✅ 返回401错误
  - ✅ 提示Token过期
- **测试状态**: ⏳ 待测试

### 测试用例 S.2: 权限测试
- **测试步骤**:
  1. 普通用户访问管理后台
  2. 普通用户调用管理员API
- **预期结果**:
  - ✅ 提示无权限
  - ✅ 返回403错误
- **测试状态**: ⏳ 待测试

### 测试用例 S.3: XSS防护
- **测试步骤**:
  1. 在评论中输入脚本代码
  2. 在内容中输入脚本代码
- **预期结果**:
  - ✅ 脚本被转义
  - ✅ 不执行恶意代码
- **测试状态**: ⏳ 待测试

### 测试用例 S.4: SQL注入防护
- **测试步骤**:
  1. 在搜索框输入SQL语句
  2. 在参数中注入SQL
- **预期结果**:
  - ✅ SQL语句被转义
  - ✅ 不执行恶意SQL
- **测试状态**: ⏳ 待测试

### 测试用例 S.5: 文件上传安全
- **测试步骤**:
  1. 上传可执行文件
  2. 上传超大文件
  3. 上传恶意文件
- **预期结果**:
  - ✅ 拒绝可执行文件
  - ✅ 拒绝超大文件
  - ✅ 检测恶意文件
- **测试状态**: ⏳ 待测试

---

## 🌐 兼容性测试

### 浏览器兼容性
- **Chrome 90+**: ⏳ 待测试
- **Firefox 88+**: ⏳ 待测试
- **Safari 14+**: ⏳ 待测试
- **Edge 90+**: ⏳ 待测试

### 设备兼容性
- **桌面 (1920x1080)**: ⏳ 待测试
- **笔记本 (1366x768)**: ⏳ 待测试
- **平板 (768x1024)**: ⏳ 待测试
- **手机 (375x667)**: ⏳ 待测试

---

## 👥 用户体验测试

### 测试用例 UX.1: 导航测试
- **测试步骤**:
  1. 从首页到各个功能页面
  2. 使用面包屑导航
  3. 使用浏览器后退
- **预期结果**:
  - ✅ 导航清晰
  - ✅ 路径正确
  - ✅ 后退正常
- **测试状态**: ⏳ 待测试

### 测试用例 UX.2: 表单验证
- **测试步骤**:
  1. 提交空表单
  2. 输入无效数据
  3. 输入超长数据
- **预期结果**:
  - ✅ 实时验证
  - ✅ 错误提示清晰
  - ✅ 验证规则正确
- **测试状态**: ⏳ 待测试

### 测试用例 UX.3: 加载状态
- **测试步骤**:
  1. 观察数据加载过程
  2. 观察操作反馈
- **预期结果**:
  - ✅ 显示加载动画
  - ✅ 操作有反馈
  - ✅ 错误有提示
- **测试状态**: ⏳ 待测试

---

## 📊 测试报告

### 测试统计
- **总测试用例**: 50+
- **已完成**: 0
- **通过**: 0
- **失败**: 0
- **阻塞**: 0

### 测试进度
- **功能测试**: 0% (0/30)
- **集成测试**: 0% (0/3)
- **性能测试**: 0% (0/4)
- **安全测试**: 0% (0/5)
- **兼容性测试**: 0% (0/8)
- **用户体验测试**: 0% (0/3)

### 测试覆盖率
- **功能覆盖**: 0%
- **代码覆盖**: 待统计
- **API覆盖**: 0%

---

## 🐛 缺陷管理

### 缺陷等级
- **P0 - 致命**: 阻塞功能，必须立即修复
- **P1 - 严重**: 影响主要功能，优先修复
- **P2 - 一般**: 影响次要功能，正常修复
- **P3 - 轻微**: 不影响功能，可延后修复

### 缺陷列表
| ID | 标题 | 等级 | 状态 | 负责人 |
|----|------|------|------|--------|
| - | - | - | - | - |

---

## ✅ 测试检查清单

### 测试前准备
- [ ] 测试环境搭建完成
- [ ] 测试数据准备完成
- [ ] 测试工具安装完成
- [ ] 测试账号创建完成

### 功能测试
- [ ] 系统配置和Logo上传
- [ ] robots.txt和SEO优化
- [ ] "我的内容"功能
- [ ] 评论系统
- [ ] 分享功能
- [ ] 多级分类系统
- [ ] 标签云管理
- [ ] 数据源管理

### 非功能测试
- [ ] 性能测试
- [ ] 安全测试
- [ ] 兼容性测试
- [ ] 用户体验测试

### 测试后工作
- [ ] 整理测试报告
- [ ] 提交缺陷报告
- [ ] 回归测试
- [ ] 测试总结

---

## 📝 测试执行记录

### 测试日期: 2024-12-20

#### 测试人员
- 测试工程师: ___________
- 开发工程师: ___________

#### 测试环境
- 操作系统: macOS
- 浏览器: Chrome 120
- 数据库: MySQL 5.7
- 后端: Java 17 + Spring Boot
- 前端: Vue 3 + Vite

#### 测试结果
- 开始时间: ___________
- 结束时间: ___________
- 测试用例总数: 50+
- 通过数: ___________
- 失败数: ___________
- 通过率: ___________%

---

**测试计划版本**: 1.0.0  
**创建日期**: 2024-12-20  
**测试团队**: 数流精灵测试团队
