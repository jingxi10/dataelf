# 数流精灵 - 管理员操作手册

**版本**: 1.0.0  
**更新日期**: 2024-12-20  
**适用对象**: 系统管理员

---

## 目录

1. [管理后台概览](#1-管理后台概览)
2. [用户管理](#2-用户管理)
3. [模板管理](#3-模板管理)
4. [内容审核](#4-内容审核)
5. [分类管理](#5-分类管理)
6. [标签管理](#6-标签管理)
7. [数据源管理](#7-数据源管理)
8. [系统设置](#8-系统设置)
9. [日常运维](#9-日常运维)
10. [应急处理](#10-应急处理)

---

## 1. 管理后台概览

### 1.1 访问方式

#### 访问地址
- **开发环境**: http://localhost:3000/admin
- **生产环境**: https://your-domain.com/admin
- **相对路径**: `/admin`

#### 访问步骤
1. 使用管理员账号登录系统
2. 方式一：直接访问 `/admin` 路径
3. 方式二：登录后点击右上角头像 → 选择"管理后台"
4. 方式三：在浏览器地址栏输入完整URL

#### 权限要求
- **角色**: 必须是管理员（ADMIN）
- **状态**: 账号必须是正常状态（ACTIVE）
- **认证**: 需要有效的登录Token

#### 访问限制
- ❌ 普通用户无法访问（会提示无权限）
- ❌ 未登录用户会跳转到登录页
- ❌ 账号过期或禁用无法访问

### 1.2 界面布局
```
┌─────────────────────────────────────────┐
│  管理后台                    🔔 👤 管理员  │
├──────────┬──────────────────────────────┤
│ 📊 用户管理 │                              │
│ 📄 模板管理 │                              │
│ ✅ 内容审核 │        主内容区域              │
│ 📁 分类管理 │                              │
│ 🏷️ 标签管理 │                              │
│ 🔗 数据源   │                              │
│ ⚙️ 系统设置 │                              │
└──────────┴──────────────────────────────┘
```

### 1.3 功能模块
- **用户管理**: 审核、管理用户账号
- **模板管理**: 管理内容模板
- **内容审核**: 审核用户提交的内容
- **分类管理**: 管理3级分类树
- **标签管理**: 管理标签和标签云
- **数据源管理**: 配置和管理数据源
- **系统设置**: 配置系统参数

---

## 2. 用户管理

### 2.1 用户列表

#### 查看用户
- **路径**: 管理后台 → 用户管理
- **显示信息**:
  - ID、邮箱、手机号
  - 角色、状态
  - 注册时间、过期时间

#### 用户状态
- **PENDING**: 待审核（新注册）
- **ACTIVE**: 正常（审核通过）
- **EXPIRED**: 已过期（超过有效期）
- **DISABLED**: 已禁用（管理员禁用）

### 2.2 审核新用户

#### 操作步骤
1. 找到状态为"待审核"的用户
2. 点击"审核"按钮
3. 选择操作：
   - **通过**: 设置有效期
   - **拒绝**: 拒绝注册

#### 设置有效期
- **1个月**: 短期试用
- **3个月**: 季度会员
- **6个月**: 半年会员
- **1年**: 年度会员
- **永久**: 永久会员

#### 审核建议
- 检查邮箱和手机号是否真实
- 查看注册信息是否完整
- 对可疑账号进行人工核实
- 及时处理审核队列（建议每天处理）

### 2.3 管理现有用户

#### 设置有效期
1. 点击"设置有效期"按钮
2. 选择新的有效期
3. 确认设置
4. 用户收到通知

#### 禁用用户
**使用场景**:
- 用户违反平台规则
- 发现恶意行为
- 临时限制访问

**操作步骤**:
1. 点击"禁用"按钮
2. 确认禁用
3. 用户无法登录
4. 可随时"启用"恢复

#### 删除用户
**警告**: 删除操作不可恢复！

**操作步骤**:
1. 点击"删除"按钮
2. 确认删除
3. 用户及其所有数据被永久删除

**删除影响**:
- 用户账号被删除
- 用户创建的内容被删除
- 用户的评论被删除
- 用户的收藏记录被删除

### 2.4 批量操作

#### 批量审核
1. 勾选多个待审核用户
2. 点击"批量审核"
3. 选择操作和有效期
4. 确认批量操作

#### 批量禁用
1. 勾选多个用户
2. 点击"批量禁用"
3. 确认操作

#### 批量删除
1. 勾选多个用户
2. 点击"批量删除"
3. 确认操作（谨慎使用）

### 2.5 用户搜索

#### 搜索方式
- **按邮箱**: 输入邮箱搜索
- **按手机**: 输入手机号搜索
- **按状态**: 筛选特定状态的用户
- **按角色**: 筛选用户或管理员

---

## 3. 模板管理

### 3.1 模板列表

#### 查看模板
- **路径**: 管理后台 → 模板管理
- **显示信息**:
  - 模板名称、类型
  - 字段配置
  - 使用次数
  - 创建时间

#### 内置模板
1. **技术文章模板**: 技术教程、开发文档
2. **案例研究模板**: 项目案例、实践经验
3. **数据报告模板**: 数据分析、统计报告
4. **产品评测模板**: 产品测评、对比分析
5. **调查报告模板**: 问卷调查、研究报告
6. **行业分析模板**: 行业研究、市场分析

### 3.2 创建模板

#### 操作步骤
1. 点击"创建模板"
2. 填写基本信息：
   - **名称**: 模板名称
   - **类型**: 模板类型标识
   - **描述**: 模板说明
3. 配置字段：
   - 添加字段
   - 设置字段类型（文本/数字/日期/选择）
   - 设置必填/可选
   - 设置默认值
4. 保存模板

#### 字段类型
- **TEXT**: 单行文本
- **TEXTAREA**: 多行文本
- **NUMBER**: 数字
- **DATE**: 日期
- **SELECT**: 下拉选择
- **CHECKBOX**: 复选框
- **RADIO**: 单选按钮

### 3.3 编辑模板

#### 操作步骤
1. 点击"编辑"按钮
2. 修改模板配置
3. 保存更改

#### 注意事项
- 修改模板不影响已创建的内容
- 删除字段会导致旧内容缺失该字段
- 建议创建新版本而不是修改现有模板

### 3.4 删除模板

#### 限制条件
- 正在使用的模板无法删除
- 需要先删除或迁移使用该模板的内容

#### 操作步骤
1. 确认模板未被使用
2. 点击"删除"按钮
3. 确认删除

---

## 4. 内容审核

### 4.1 审核队列

#### 查看待审核内容
- **路径**: 管理后台 → 内容审核
- **显示信息**:
  - 标题、作者
  - 模板类型
  - 提交时间
  - 状态

#### 内容状态
- **PENDING**: 待审核
- **APPROVED**: 已通过
- **REJECTED**: 已退回
- **PUBLISHED**: 已发布

### 4.2 审核内容

#### 审核流程
1. **查看内容**: 点击标题查看完整内容
2. **检查质量**:
   - 内容完整性
   - 格式规范性
   - 结构化数据
   - 是否违规
3. **做出决定**: 通过或退回

#### 审核标准
✅ **通过标准**:
- 内容完整、格式规范
- 结构化字段填写完整
- 分类和标签准确
- 无违规内容
- 无抄袭行为

❌ **退回原因**:
- 内容不完整
- 格式混乱
- 结构化字段缺失
- 分类或标签不准确
- 存在违规内容
- 疑似抄袭

### 4.3 通过审核

#### 操作步骤
1. 点击"通过"按钮
2. 内容自动发布
3. 作者收到通过通知

#### 通过后
- 内容状态变为"已发布"
- 内容在前台展示
- 作者收到邮件和站内信通知

### 4.4 退回修改

#### 操作步骤
1. 点击"退回"按钮
2. 填写退回原因（必填）
3. 确认退回

#### 退回后
- 内容状态变为"草稿"
- 内容不在前台展示
- 作者收到退回通知和原因
- 作者可修改后重新提交

### 4.5 批量审核

#### 批量通过
1. 勾选多个内容
2. 点击"批量通过"
3. 确认操作
4. 所有内容自动发布

#### 批量退回
1. 勾选多个内容
2. 点击"批量退回"
3. 填写统一的退回原因
4. 确认操作

### 4.6 审核建议

#### 日常审核
- **频率**: 建议每天审核1-2次
- **时间**: 上午和下午各一次
- **数量**: 每次处理20-50篇

#### 审核技巧
1. **快速浏览**: 先快速浏览标题和摘要
2. **重点检查**: 重点检查结构化字段
3. **批量处理**: 相似内容批量处理
4. **记录问题**: 记录常见问题，制定规范

#### 特殊情况
- **疑似抄袭**: 使用搜索引擎验证
- **敏感内容**: 谨慎处理，必要时咨询
- **质量问题**: 给出具体的修改建议
- **技术问题**: 联系技术团队

---

## 5. 分类管理

### 5.1 分类树

#### 查看分类树
- **路径**: 管理后台 → 分类管理
- **显示**: 3级树形结构
- **操作**: 展开/收起、创建、编辑、删除

#### 分类层级
- **第1级**: 根分类（大类）
- **第2级**: 二级分类（中类）
- **第3级**: 三级分类（小类）

**限制**: 最多支持3级分类

### 5.2 创建分类

#### 创建根分类
1. 点击"创建根分类"
2. 填写信息：
   - **名称**: 分类名称（2-50字符）
   - **描述**: 分类说明（可选）
   - **排序**: 数字越小越靠前（默认0）
3. 点击"创建"

#### 创建子分类
1. 悬停在父分类上
2. 点击"+"按钮
3. 填写子分类信息
4. 点击"创建"

**注意**: 第3级分类不能再添加子分类

### 5.3 编辑分类

#### 操作步骤
1. 点击分类节点
2. 在详情抽屉中点击"编辑"
3. 修改分类信息：
   - 名称
   - 描述
   - 排序
4. 点击"更新"

**限制**: 层级不能修改

### 5.4 删除分类

#### 操作步骤
1. 点击分类节点
2. 点击"删除"按钮
3. 确认删除

**警告**: 
- 删除父分类会同时删除所有子分类
- 删除操作不可恢复
- 建议先检查分类下的内容

#### 删除前检查
1. 查看分类详情
2. 检查内容数量
3. 检查子分类数量
4. 确认影响范围

### 5.5 分类规划

#### 规划原则
1. **层次清晰**: 从大到小逐级细分
2. **互不重叠**: 避免分类重复
3. **易于理解**: 使用通俗易懂的名称
4. **适度细分**: 不要过度细分

#### 示例结构
```
科技产品 (1级)
├── 智能手机 (2级)
│   ├── iPhone系列 (3级)
│   ├── Android系列 (3级)
│   └── 其他品牌 (3级)
├── 笔记本电脑 (2级)
│   ├── MacBook (3级)
│   ├── Windows笔记本 (3级)
│   └── Chromebook (3级)
└── 智能家居 (2级)
    ├── 智能音箱 (3级)
    ├── 智能灯具 (3级)
    └── 智能门锁 (3级)
```

---

## 6. 标签管理

### 6.1 标签云

#### 查看标签云
- **路径**: 管理后台 → 标签管理
- **显示**: 可视化标签云
- **特点**: 大小和颜色根据使用量变化

#### 标签样式
- **使用量 >= 50**: 大号红色
- **使用量 >= 30**: 默认橙色
- **使用量 >= 10**: 默认绿色
- **使用量 < 10**: 小号灰色

### 6.2 标签列表

#### 查看标签
- **显示信息**:
  - ID、标签名称
  - 使用次数
  - 创建时间
- **排序方式**:
  - 按使用量（默认）
  - 按名称
  - 按时间

### 6.3 创建标签

#### 操作步骤
1. 点击"创建标签"
2. 输入标签名称（2-50字符）
3. 点击"创建"

#### 命名规范
- ✅ 使用标准术语
- ✅ 简洁明了
- ✅ 避免特殊字符
- ❌ 不要使用空格
- ❌ 不要重复创建

### 6.4 搜索标签

#### 操作步骤
1. 在搜索框输入关键词
2. 实时显示搜索结果
3. 清空搜索框恢复全部

### 6.5 查看标签内容

#### 操作步骤
1. 点击标签云中的标签，或
2. 点击列表中的"查看内容"
3. 在抽屉中查看相关内容列表
4. 点击内容跳转到详情页

### 6.6 删除标签

#### 限制条件
- 只能删除使用次数为0的标签
- 使用中的标签无法删除

#### 操作步骤
1. 找到使用次数为0的标签
2. 点击"删除"按钮
3. 确认删除

### 6.7 标签管理建议

#### 标签规范
1. **统一命名**: 制定标签命名规范
2. **定期清理**: 清理无用标签
3. **合并相似**: 合并意思相同的标签
4. **推荐标签**: 为用户推荐常用标签

#### 标签优化
1. **热门标签**: 关注使用量高的标签
2. **冷门标签**: 清理使用量为0的标签
3. **标签关系**: 建立标签之间的关联
4. **标签推荐**: 基于内容推荐标签

---

## 7. 数据源管理

### 7.1 数据源列表

#### 查看数据源
- **路径**: 管理后台 → 数据源管理
- **显示信息**:
  - ID、名称、URL
  - 类型、状态
  - 抓取间隔
  - 抓取统计
  - 最后抓取时间

#### 数据源类型
- **RSS**: RSS订阅源
- **HTML**: HTML网页
- **API**: API接口
- **JSON**: JSON数据
- **XML**: XML数据

#### 数据源状态
- **ACTIVE**: 活跃（正常抓取）
- **PAUSED**: 暂停（临时停止）
- **ERROR**: 错误（抓取失败）
- **DISABLED**: 禁用（完全停止）

### 7.2 添加数据源

#### 基本配置
1. 点击"添加数据源"
2. 填写基本信息：
   - **名称**: 数据源名称
   - **URL**: 数据源地址
   - **类型**: 选择类型
   - **抓取间隔**: 1-168小时
   - **描述**: 数据源说明（可选）

#### 高级配置（可选）

**选择器配置** (JSON格式):
```json
{
  "title": ".article-title",
  "content": ".article-content",
  "author": ".author-name",
  "publishDate": ".publish-date"
}
```

**清洗规则** (JSON格式):
```json
{
  "removeHtml": true,
  "trimSpaces": true,
  "removeEmptyLines": true,
  "maxLength": 5000
}
```

**模板映射** (JSON格式):
```json
{
  "templateType": "TECH_ARTICLE",
  "fields": {
    "title": "title",
    "content": "content",
    "author": "author"
  }
}
```

3. 点击"创建"

### 7.3 编辑数据源

#### 操作步骤
1. 点击"编辑"按钮
2. 修改配置信息
3. 点击"更新"

#### 可修改项
- 名称、URL、描述
- 数据源类型
- 抓取间隔
- 选择器配置
- 清洗规则
- 模板映射

### 7.4 查看详情

#### 操作步骤
1. 点击"查看"按钮
2. 在抽屉中查看完整信息

#### 详情内容
- 基本信息
- 抓取统计（总次数/成功/失败）
- 时间信息（最后抓取/下次抓取）
- 错误信息（如有）
- 配置信息

### 7.5 手动抓取

#### 操作步骤
1. 确保数据源已启用
2. 点击"抓取"按钮
3. 系统立即触发抓取任务

#### 抓取结果
- 成功：更新抓取统计
- 失败：记录错误信息

### 7.6 启用/禁用

#### 操作步骤
1. 点击"启用"或"禁用"按钮
2. 确认操作

#### 效果
- **禁用**: 停止自动抓取
- **启用**: 恢复自动抓取

### 7.7 删除数据源

#### 操作步骤
1. 点击"删除"按钮
2. 确认删除
3. 数据源及配置被永久删除

### 7.8 数据源配置建议

#### 抓取间隔
- **新闻网站**: 1-6小时
- **博客**: 12-24小时
- **学术期刊**: 24-168小时
- **API接口**: 根据限制设置

#### 配置技巧
1. **测试URL**: 先测试URL是否可访问
2. **验证选择器**: 使用浏览器开发工具验证
3. **逐步配置**: 先配置基本信息，再配置高级选项
4. **监控错误**: 定期检查错误日志

#### 注意事项
- ✅ 遵守robots.txt规则
- ✅ 控制抓取频率
- ✅ 处理反爬虫机制
- ❌ 不要过于频繁抓取
- ❌ 不要抓取敏感信息

---

## 8. 系统设置

### 8.1 基本设置

#### 网站信息
- **网站名称**: 显示在浏览器标题
- **网站描述**: SEO描述
- **关键词**: SEO关键词
- **联系邮箱**: 系统邮箱

#### Logo设置
1. 点击"上传Logo"
2. 选择图片：
   - 格式：JPG、PNG、GIF、WebP
   - 大小：最大5MB
   - 尺寸：建议200x60像素
3. 预览Logo
4. 点击"保存"

### 8.2 功能设置

#### 分页设置
- **每页显示数量**: 10/20/50/100

#### 审核设置
- **评论审核**: 开启/关闭
- **注册审核**: 开启/关闭
- **内容审核**: 开启/关闭

#### 其他设置
- **维护模式**: 开启后显示维护页面
- **注册开关**: 开启/关闭用户注册
- **评论开关**: 开启/关闭评论功能

### 8.3 保存设置

#### 操作步骤
1. 修改配置
2. 点击"保存设置"
3. 系统提示保存成功
4. 配置立即生效

---

## 9. 日常运维

### 9.1 每日任务

#### 上午（9:00-12:00）
- [ ] 检查系统运行状态
- [ ] 处理用户审核（新注册）
- [ ] 处理内容审核（新提交）
- [ ] 查看数据源抓取情况
- [ ] 处理用户反馈

#### 下午（14:00-18:00）
- [ ] 继续处理审核队列
- [ ] 检查数据源错误
- [ ] 清理无用标签
- [ ] 优化分类结构
- [ ] 回复用户咨询

### 9.2 每周任务

#### 周一
- [ ] 查看上周统计数据
- [ ] 制定本周工作计划
- [ ] 检查系统性能

#### 周三
- [ ] 中期检查
- [ ] 处理积压问题
- [ ] 优化系统配置

#### 周五
- [ ] 周总结
- [ ] 数据备份
- [ ] 准备下周计划

### 9.3 每月任务

- [ ] 月度数据统计
- [ ] 用户满意度调查
- [ ] 系统性能评估
- [ ] 安全检查
- [ ] 功能优化建议

### 9.4 监控指标

#### 系统指标
- **在线用户数**: 实时监控
- **API响应时间**: < 200ms
- **错误率**: < 1%
- **服务器负载**: < 70%

#### 业务指标
- **新增用户**: 每日统计
- **活跃用户**: 每日统计
- **内容发布**: 每日统计
- **审核效率**: 平均处理时间

---

## 10. 应急处理

### 10.1 系统故障

#### 服务器宕机
1. 检查服务器状态
2. 重启服务
3. 查看错误日志
4. 联系技术支持

#### 数据库故障
1. 检查数据库连接
2. 查看数据库日志
3. 恢复数据库备份
4. 联系DBA

### 10.2 安全事件

#### 账号被盗
1. 立即禁用账号
2. 重置密码
3. 检查异常操作
4. 通知用户

#### 恶意攻击
1. 启用防护措施
2. 封禁攻击IP
3. 查看攻击日志
4. 联系安全团队

### 10.3 数据问题

#### 数据丢失
1. 停止相关操作
2. 检查备份
3. 恢复数据
4. 验证数据完整性

#### 数据错误
1. 定位错误数据
2. 分析错误原因
3. 修复错误数据
4. 防止再次发生

### 10.4 用户投诉

#### 处理流程
1. 记录投诉内容
2. 核实情况
3. 给出解决方案
4. 跟踪处理结果
5. 回访用户

#### 常见投诉
- 审核太慢 → 加快审核速度
- 内容被误删 → 恢复内容
- 账号被禁用 → 核实原因
- 功能不可用 → 技术修复

---

## 附录

### A. 快捷操作

| 功能 | 快捷键 |
|------|--------|
| 搜索 | Ctrl/Cmd + K |
| 保存 | Ctrl/Cmd + S |
| 刷新 | F5 |
| 返回 | Esc |

### B. 联系方式

- **技术支持**: tech@dataelf.com
- **紧急电话**: 400-xxx-xxxx
- **工作时间**: 7x24小时

### C. 相关文档

- 《数流精灵使用手册》
- 《快速参考手册》
- 《部署文档》
- 《API文档》

---

**文档版本**: 1.0.0  
**最后更新**: 2024-12-20  
**维护团队**: 数流精灵开发团队

© 2024 数流精灵 - 保留所有权利
